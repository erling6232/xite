<!-- manual page source format generated by RosettaMan v2.5a4, -->
<!-- available via anonymous ftp from ftp.cs.berkeley.edu:/ucb/people/phelps/tcltk/rman.tar.Z -->
<HTML>
<HEAD>
<TITLE>PullDown</TITLE>
</HEAD>
<BODY>
<A HREF="#toc">Table of Contents</A><P>

<H2><A NAME="sect1" HREF="#toc1">NAME</A></H2>

XfwfPullDown
<P>

<H2><A NAME="sect2" HREF="#toc2"><B>DESCRIPTION</B></A></H2>

A PullDown button looks like a normal button, but when it is
clicked or pressed, a menu drops down. The menu can be spec­
ified in two ways: as a string or as a widget. If a string
is given, it must be in the correct syntax for the Xfwf­
TextMenu widget and a widget will be created automatically.
If a widget is given instead, it must be a widget that is
able to pop up: in other words: a Shell widget or a subclass
of Shell.
<P>
The most likely application of this widget is as a menu in a
menu bar. A menu bar can be created, e.g., with a RowCol
widget and a number of PullDown buttons.
<P>
When the popup is passed in as a string in the <I>menu</I>
resource, the widget will call the <I>activate</I> callback (see
XfwfButton) when the user exits the menu with a valid selec­
tion. It will also call the <I>changeSelection</I> callback (see
below) when the user moves from one menu item to the next.
Neither of these callbacks will be called when the popup is
passed in as a ready-made widget in the <I>popup</I> resource.
<P>
Note however, that the <I>call_data</I> argument of the <I>activate</I>
callback will contain the number of the selected item (0, 1,
2, etc.) and not the event, as is the case in an XfwfButton
widget.
<P>
<B>Public</B> <B>variables</B><BR>

______________________________________________________________
<DL>
<DT><B>|</B> <DD>                        <B>XfwfPullDown</B>
</DD>
</DL>
<DL>
<DT>| <B>Name</B> <DD>             <B>|</B> <B>Class</B>             <B>|</B> <B>Type</B>    <B>|</B> <B>Default</B>
</DD>
</DL>
<DL>
<DT>| XtNpopup <DD>         | XtCPopup          | Widget | NULL
</DD>
</DL>
<DL>
<DT>| XtNmenu <DD>          | XtCMenu           | String | NULL
</DD>
</DL>
<DL>
<DT>| XtNcascaded <DD>      | XtCCascaded       | Boolean | False
</DD>
</DL>
<DL>
<DT>| XtNhotkey <DD>        | XtCHotkey         | String | NULL
| XtNmenuCursor     | XtCMenuCursor     | Cursor | &quot;arrow"
</DD>
</DL>
<DL>
<DT>| XtNprepare <DD>       | XtCPrepare        | Callback| NULL
| XtNchangeSelection| XtCChangeSelection| Callback| NULL
</DD>
</DL>
<DL>
<DT>| <DD>                  |                    |          |
|___________________<I>|</I>____________________<I>|</I>__________<I>|</I>_________</I>
<P>
</DD>
</DL>
<I>XtNpopup</I><BR>

Two resources determine the menu. The <I>popup</I> resource
can be pointed at the widget that should pop up when
the button is pressed, but when the <I>popup</I> resource is
NULL, the menu will be created from the <I>menu</I> resource.
If the <I>popup</I> resource is set, it must be set to a
widget that is (a subclass of) a Shell widget.
<P>
<I>XtNmenu</I><BR>

When <I>popup</I> is <I>NULL</I>, the widget will be created from the
textual description in <I>menu</I>. For the syntax of this
string, see the XfwfTextMenu.
<P>
<I>XtNcascaded</I><BR>

When the button is part of a dialog or menu, that has
already caused a grab of the pointer, the resource <I>cas­</I>
<I>caded</I> should be <I>True</I>. If the button is inserted into an
XfwfMenuBar, the resource is set to <I>True</I> automatically.
<P>
<I>XtNhotkey</I><BR>

The pull down button installs an event handler that
catches all keyboard events for the whole application
and checks for a special key combination. If that key
is detected, the menu will be popped up. Thus, the
menu can be used even if the keyboard focus is some­
where else. The <I>hotkey</I> resource is usually a string
such as <I>&quot;Alt&lt;Key&gt;a"</I>, or <I>&quot;Ctrl&lt;Key&gt;f"</I>.
<P>
When the <I>hotkey</I> resource is used, any <I>accelerators</I> will
be ignored.
<P>
<I>XtNmenuCursor</I><BR>

The cursor shape that is used in the menu can be set
with the <I>menuCursor</I> resource. By default it is an arrow
pointing to the upper right.
<P>
<I>XtNprepare</I><BR>

The <I>prepare</I> callback is invoked by the <I>prepare</I> action,
normally just before the menu is popped up.
<P>
<I>XtNchangeSelection</I><BR>

When the user moves from one item to another in the
menu that was created from the <I>menu</I> resource, the
<I>changeSelection</I> callback is called, with the number of
the new selection as <I>call_data</I>. This callback is called
even when the new selection is an inactive (grayed out)
item. It is also called when the mouse leaves the menu,
in which case the argument will be -1. This callback
will notbe called when the menu is a ready-made widget,
passed in via the <I>popup</I> resource.
<P>
<I>XtNframeWidth</I><BR>

Since the most likely place for this type of button
will be in a menubar, the default frame width is reset
to zero.
<P>
<I>XtNshrinkToFit</I><BR>

The <I>shrinkToFit</I> resource is set to a new default of
<I>True</I>.
<P>
<DL>
<DT>________________________________________________<DD>
</DD>
</DL>
<DL>
<DT><B>|</B> <DD>                  <B>XfwfButton</B>
</DD>
</DL>
<DL>
<DT>| <B>Name</B> <DD>      <B>|</B> <B>Class</B>      <B>|</B> <B>Type</B>    <B>|</B> <B>Default</B>
| XtNactivate| XtCActivate| Callback| NULL
| XtNenter | XtCEnter | Callback| NULL
| XtNleave | XtCLeave | Callback| NULL
|            |             |          |
|____________<I>|</I>_____________<I>|</I>__________<I>|</I>_________</I>
<P>
</DD>
</DL>
_______________________________________________________________________
<B>|</B>                               <B>XfwfLabel</B>
| <B>Name</B>           <B>|</B> <B>Class</B>          <B>|</B> <B>Type</B>      <B>|</B> <B>Default</B>
| XtNlabel       | XtCLabel       | String    | NULL
| XtNtablist     | XtCTablist     | String    | NULL
| XtNfont        | XtCFont        | FontStruct| XtDefaultFont
| XtNforeground | XtCForeground | Pixel     | XtDefaultForeground
| XtNhlForeground| XtCHlForeground| Pixel     | XtDefaultForeground
| XtNalignment | XtCAlignment | Alignment | 0
| XtNtopMargin | XtCTopMargin | Dimension | 2
| XtNbottomMargin| XtCBottomMargin| Dimension | 2
| XtNleftMargin | XtCLeftMargin | Dimension | 2
| XtNrightMargin | XtCRightMargin | Dimension | 2
| XtNshrinkToFit | XtCShrinkToFit | Boolean | False
| XtNrvStart     | XtCRvStart     | Int       | 0
| XtNrvLength    | XtCRvLength    | Int       | 0
| XtNhlStart     | XtCHlStart     | Int       | 0
| XtNhlLength    | XtCHlLength    | Int       | 0
|                |                 |            |
|________________<I>|</I>_________________<I>|</I>____________<I>|</I>______________________</I>
<P>
<DL>
<DT>_____________________________________________________<DD>
</DD>
</DL>
<DL>
<DT><B>|</B> <DD>                     <B>XfwfBoard</B>
</DD>
</DL>
<DL>
<DT>| <B>Name</B> <DD>        <B>|</B> <B>Class</B>        <B>|</B> <B>Type</B>     <B>|</B> <B>Default</B>
</DD>
</DL>
<DL>
<DT>| XtNabs_x <DD>    | XtCAbs_x     | Position | 0
</DD>
</DL>
<DL>
<DT>| XtNrel_x <DD>    | XtCRel_x     | Float    | &quot;0.0"
</DD>
</DL>
<DL>
<DT>| XtNabs_y <DD>    | XtCAbs_y     | Position | 0
</DD>
</DL>
<DL>
<DT>| XtNrel_y <DD>    | XtCRel_y     | Float    | &quot;0.0"
| XtNabs_width | XtCAbs_width | Position | 0
| XtNrel_width | XtCRel_width | Float    | &quot;1.0"
| XtNabs_height| XtCAbs_height| Position | 0
| XtNrel_height| XtCRel_height| Float    | &quot;1.0"
</DD>
</DL>
<DL>
<DT>| XtNhunit <DD>    | XtCHunit     | Float    | &quot;1.0"
</DD>
</DL>
<DL>
<DT>| XtNvunit <DD>    | XtCVunit     | Float    | &quot;1.0"
| XtNlocation | XtCLocation | String | NULL
|              |               |           |
|______________<I>|</I>_______________<I>|</I>___________<I>|</I>_________</I>
<P>
</DD>
</DL>
________________________________________________________________________________________
<B>XfwfFrame</B><BR>

<B>Name</B>                     <B>Class</B>                    <B>Type</B>            <B>Default</B>
XtNcursor                XtCCursor                Cursor          None
XtNframeType             XtCFrameType             FrameType       XfwfRaised
XtNframeWidth            XtCFrameWidth            Dimension       0
XtNouterOffset           XtCOuterOffset           Dimension       0
XtNinnerOffset           XtCInnerOffset           Dimension       0
XtNshadowScheme          XtCShadowScheme          ShadowScheme    XfwfAuto
XtNtopShadowColor        XtCTopShadowColor        Pixel           compute_topcolor
XtNbottomShadowColor     XtCBottomShadowColor     Pixel           compute_bottomcolor
XtNtopShadowStipple      XtCTopShadowStipple      Bitmap          NULL
XtNbottomShadowStipple XtCBottomShadowStipple Bitmap          NULL
<P>
________________________________________________________________________________________
<DL>
<DT><B>|</B> <DD>                      <B>|</B>                        <B>|</B>               <B>|</B>
|_______________________|<I>_</I>_______________________|<I>_</I>______________|<I>_</I>_________________
</DD>
</DL>
<DL>
<DT><B>|</B> <DD>                      |            <B>XfwfCommon</B> |               |                 <B>|</B>
</DD>
</DL>
<DL>
<DT><B>|</B> <B>Name</B> <DD>                <B>|</B>| <B>Class</B>                <B>|</B> |<B>Type</B>      <B>|</B> <B>De</B>|<B>fault</B>             |
</DD>
</DL>
<DL>
<DT><B>|</B> <DD>XtNtraversalOn       || XtCTraversalOn       | |Boolean | Tr|ue                |
<B>|</B> XtNhighlightThickness|| XtCHighlightThickness| |Dimension | 2 |                 |
<B>|</B> XtNhighlightColor    || XtCHighlightColor    | |Pixel     | Xt|DefaultForeground |
<B>|</B> XtNhighlightPixmap || XtCHighlightPixmap | |Pixmap    | No|ne                |
</DD>
</DL>
<DL>
<DT><B>|</B> <DD>XtNnextTop           || XtCNextTop           | |Callback | NU|LL                |
</DD>
</DL>
<DL>
<DT><B>|</B> <DD>XtNuserData          || XtCUserData          | |Pointer | NU|LL                |
</DD>
</DL>
<DL>
<DT><B>|</B> <DD>                     ||                      | |          |    |                 |
<B>|</B>______________________<I>|</I>|<I>_</I>_____________________<I>|</I>_|<I>_</I>_________<I>|</I>____|<I>_</I>________________<I>|</I>
|                       |                        |               |
|       ________________|<I>_</I>_______________________|<I>_</I>______________|<I>_</I>__
|      <B>|</B>                |         <B>Composite</B>      |               | <B>|</B>
|      | <B>Name</B>          <B>|</B>| <B>Class</B>            <B>|</B> <B>Typ</B>|<B>e</B>        <B>|</B> <B>Defa</B>|<B>ult</B>|
|      | XtNchildren || XtCChildren      | Wid|getList | NULL| |
|      | insertPosition|| XtCInsertPosition| XTO|rderProc | NULL| |
|      | numChildren || XtCNumChildren | Car|dinal    | 0 | |
|      |               ||                  |     |        |      | |
|      |_______________<I>|</I>|<I>_</I>_________________<I>|</I>_____|<I>_</I>_______<I>|</I>______|<I>_</I>_<I>|</I>
|                       |                        |               |
| ____________________|<I>_</I>_______________________|<I>_</I>______________|<I>_</I>_______
| <B>|</B>                    |            <B>Core</B>        |               |       <B>|</B>
| | <B>Name</B>             <B>|</B> |<B>Class</B>               <B>|</B> <B>T</B>|<B>ype</B>           <B>|</B> |<B>Default</B>|
| | XtNx             | |XtCX                | P|osition       | |0      |
| | XtNy             | |XtCY                | P|osition       | |0      |
| | XtNwidth         | |XtCWidth            | D|imension      | |0      |
| | XtNheight        | |XtCHeight           | D|imension      | |0      |
| | borderWidth      | |XtCBorderWidth      | D|imension      | |0      |
| | XtNcolormap      | |XtCColormap         | C|olormap       | |NULL |
| | XtNdepth         | |XtCDepth            | I|nt            | |0      |
| | destroyCallback | |XtCDestroyCallback | X|TCallbackList | |NULL |
| | XtNsensitive     | |XtCSensitive        | B|oolean        | |True |
| | XtNtm            | |XtCTm               | X|TTMRec        | |NULL |
| | ancestorSensitive| |XtCAncestorSensitive| B|oolean        | |False |
| | accelerators     | |XtCAccelerators     | X|TTranslations | |NULL |
| | borderColor      | |XtCBorderColor      | P|ixel          | |0      |
| borderPixmap     | |XtCBorderPixmap     | P|ixmap         | |NULL
</DD>
</DL>
<DL>
<DT>| background <DD>      | XtCBackground       | Pixel          | 0
| backgroundPixmap | XtCBackgroundPixmap | Pixmap         | NULL
| mappedWhenManaged| XtCMappedWhenManaged| Boolean        | True
</DD>
</DL>
<DL>
<DT>| XtNscreen <DD>       | XtCScreen           | Screen *       | NULL
|                  |                      |                 |
|__________________<I>|</I>______________________<I>|</I>_________________<I>|</I>_________</I>
<P>
</DD>
</DL>
<B>Translations</B><BR>

&lt;Btn1Down&gt;: prepare() open_menu()
<P>
Button1&lt;Enter&gt;: prepare() open_menu() enter()
&lt;Key&gt;Return: prepare() open_menu()
<P>
&lt;Btn1Up&gt;: popdown_maybe()
<P>
&lt;EnterNotify&gt;: enter()
<P>
&lt;LeaveNotify&gt;: leave()
<P>
<I>prepare</I>
<P>
The <I>prepare</I> action just calls the <I>prepare</I> callback
functions, passing the <I>XEvent</I> pointer in the <I>call_data</I>
argument.
<P>
<I>open_menu</I>
<P>
The <I>open_menu</I> action computes the coordinates of the
menu, such that it will appear directly below the but­
ton. A local grab is added, so that the button itself
will continu to receive events, even after the popped
up menu has grabbed the pointer and keyboard. The
accelerators of the menu are installed in the pulldown
button, which will continue to have the focus. It then
pops up the menu.
<P>
<I>popdown_maybe</I>
<P>
The <I>podown_maybe</I> action only pops down the menu when
the pointer is outside the button. When the pointer is
on the button, the menu stays posted.
<P>

<HR><P>
<A NAME="toc"><B>Table of Contents</B></A><P>
<UL>
<LI><A NAME="toc0" HREF="#sect0">NAME</A></LI>
<LI><A NAME="toc1" HREF="#sect1">DESCRIPTION</A></LI>
</UL>
</BODY></HTML>
